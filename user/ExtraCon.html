<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <link rel="icon" href="icon.png">
    <link rel="stylesheet" href="ExtraCon.css">
    <link href='https://fonts.googleapis.com/css?family=Space Grotesk' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Source Sans Pro' rel='stylesheet'>
    <title>bigBang</title>
    <script>
        function getURLParameter(paramName) {
          const urlParams = new URLSearchParams(window.location.search);
          return urlParams.get(paramName);
        }
        const userid = getURLParameter('userid');
        console.log('User id: ', userid);
        const username = getURLParameter('username');
        const roomNo = getURLParameter('roomNo');
      </script>
</head>

<body>

    <form onsubmit="submitForm(event)">
        <div onclick="document.location='EnterRoom.html?userid='+userid+'&username='+username"  class="back">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16" >
        <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"></path>
      </svg></div>
        <label class="title"><b>
                Extra Configuration</b>
        </label><br>
        <p class="function1">Early Termination<br></p>
        <label class="switch">
            <input type="checkbox" name="termination" title="" placeholder="" class="center" id="function1">
            <span class="slider"><br></span>
        </label>
        <p class="function2">Three-step Exchange<br></p>
        <label class="switch">
            <input type="checkbox" class="center" id="function2" name="threeStep">
            <span class="slider"></span>
        </label>
        <p class="function3">Five-step Three Strikes<br></p>
        <label class="switch">
            <input type="checkbox" class="center" id="function3" name="fiveStep">
            <span class="slider"></span>
        </label>
        <p class="function4">Timer<br></p>
        <input type="text" id="time" name="time">

        <button type="sumbit" id="confirm">Confirm</button>
    </form>

    <script>
        function submitForm(event) {
           
            event.preventDefault(); // prevent the form from submitting

            // get the form item values
            const termination = document.getElementById("function1").checked;
            const threeStep = document.getElementById("function2").checked;
            const fiveStep = document.getElementById("function3").checked;
            const time = document.getElementById("time").value;
            const generatedRoomNo = roomNo;
            let timer = true;
            const [minutes, seconds] = time.split(":").map(Number);
            const totalSeconds = (minutes * 60) + seconds;
            const gameMode = "PVP";


            // construct the query string
            const queryString = `termination=${termination}&threeStep=${threeStep}&fiveStep=${fiveStep}&timer=${timer}&roomNo=${roomNo}&totalSeconds=${time}&gameMode=${gameMode}`;

            console.log(queryString);
            // send the query string
            window.location.href = `http://54.174.147.192/?userid=`+userid+`&username=`+username+`&${queryString}`;
        }

        function generateRandomNumber() {
            var randomNumber = Math.floor(Math.random() * 10000);
            return randomNumber.toString().padStart(4, '0');
        }

    

    </script>

</body>

</html>

